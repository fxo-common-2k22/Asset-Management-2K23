@model IEnumerable<FAPP.Areas.AM.ViewModels.v_mnl_AuditLog_Result>

<div class="modal-header modalHeader">
    <button type="button" class="close newClose" id="modal_btncross" data-dismiss="modal">&times;</button>
    <h4 class="modal-title">Audit Log</h4>
</div>
<div class="modal-body">
    <div class="row">
        <div class="col-sm-12 downpadding" id="divtoscroll">
            <table cellspacing="0" class="table table-responsive table-striped table-condensed">
                <thead class="vd_bg-green vd_white">
                    <tr>
                        <th>Sr</th>
                        <th>Audit Date</th>
                        <th>Operation</th>
                        <th>Column</th>
                        <th>Old Value</th>
                        <th>New Value</th>
                        <th>Modified By</th>
                    </tr>
                </thead>
                <tbody>

                    @if (Model != null)
                    {
                        int count = 0;
                        foreach (var item in Model.OrderByDescending(u => u.AuditDate))
                        {
                            <tr class="tr_row">
                                <td><span class="label label-default current-theme">@(++count)</span></td>
                                <td>@item.AuditDate</td>
                                <td>
                                    @switch (item.Operation)
                                    {
                                        case "I":
                                            <p>Insert</p>
                                            break;
                                        case "U":
                                            <p>Update</p>
                                            break;
                                        case "D":
                                            <p>Delete</p>
                                            break;
                                    }
                                </td>
                                <td>@(item.Col)</td>
                                <td>@(item.OldVal)</td>
                                <td>@(item.NewVal)</td>
                                <td>@(item.Username)</td>
                            </tr>
                        }
                    }
                </tbody>

            </table>
            @if (Model == null || Model.Count() == 0)
            {
                <div style="text-align: center">
                    No data found
                </div>
            }
        </div>
    </div>


</div>
<div class="modal-footer">
    <button type="button" class="btn btn-blue bTn" data-dismiss="modal">Ok</button>
</div>
<script>
    $("#PopupModalSection").parent().css('width', '1000');
    $('#divtoscroll').css({ 'height': '500', 'overflow': 'auto' });
</script>