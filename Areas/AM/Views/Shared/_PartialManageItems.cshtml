
@model FAPP.Areas.AM.ViewModels.ManageAMItemsViewModel
<div id="todisplay">
    <table class="table table-hover table-striped table-condensed">
        <tr>
            <th width="20px">Sr.</th>
            <th> Name</th>
            <th> Category </th>
            <th> Unit </th>
            <th> Price </th>
            <th> Barcode </th>
            <th> Product Code </th>
            <th>Type</th>
            <th>Description</th>
            <th>Action</th>
        </tr>
        @{var count = 0;}
        @foreach (var item in Model.Items)
        {
            <tr>
                
                <td><span class="label label-default current-theme">@(++count)</span></td>
                <td id="Name_@item.ItemId">@Html.DisplayFor(modelItem => item.ItemName)</td>
                <td id="">
                    @Html.DisplayFor(m=> item.AMCategory.CategoryName)
                </td>
                <td id="">@(item.AMUnit?.UnitName)</td>
                <td id="Price_@item.ItemId">@Html.DisplayFor(modelItem => item.Price)</td>
                <td id="Price_@item.ItemId">@Html.DisplayFor(modelItem => item.Barcode)</td>
                <td id="Price_@item.ItemId">@Html.DisplayFor(modelItem => item.ProductCode)</td>
                <td id="Bill_@item.ItemId">@Html.DisplayFor(m => item.IsConsumable)</td>
                <td id="Price_@item.ItemId">@Html.DisplayFor(modelItem => item.Description)</td>
                <td>
                    @using (Ajax.BeginForm("EditItem", "Setup",
                        new AjaxOptions
                        {
                            OnSuccess = "OnResponceBackFromServer",
                            UpdateTargetId = "EditModalTarget"
                        }))
                    {
                        <input type="hidden" name="ItemId" value="@item.ItemId" />
                        if (ViewBag.CanUpdate)
                        {
                            <input type="submit" class="btn btn-primary btn-xs load" value="Edit" />
                        }
                        if (ViewBag.CanDelete)
                        {
                            <input type="button" value="Delete" class="btn btn-red btn-xs delete" data-url="@Url.Action("DeleteProduct")" data-action="DeleteAccount" data-id="@item.ItemId" />
                        }
                    }
                </td>
            </tr>
        }

    </table>
</div>

